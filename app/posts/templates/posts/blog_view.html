{% extends 'base.html' %}


{% block head %}
{{ super() }}
<style>
    .pagination > .active > a {
        color: white;
        background-color: #292b2c;
        border: solid 1px #292b2c;
    }
</style>
{% endblock %}


{% block title %}
Blog page
{% endblock %}


{% block content_title %}
Posts
{% endblock %}


{% block content %}

<div>
    <a class="btn btn-success" href="{{ url_for('posts.create_post') }}" role="button" style="margin-bottom: 8px">New
        post</a>
</div>

{% for post in pages.items %}
<p>
    <a href="{{ url_for('posts.post_detail', slug=post.slug) }}"> {{ post.title }} </a><br>
    (created: {{ post.created }})
</p>
{% endfor %}

<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">

        <li class="page-item {% if not pages.has_prev %} disabled {% endif %}">
            <a class="page-link" href="./?page=1" aria-label="First">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>

        <li class="page-item {% if not pages.has_prev %} disabled {% endif %}">
            <a class="page-link" href="./?page={{ pages.prev_num }}" aria-label="Previous">
                <span aria-hidden="true">&lsaquo;</span>
            </a>
        </li>

        
        {% for page in pages.iter_pages(left_edge=0, right_edge=0, left_current=1, right_current=3) %}
            <li class="page-item {% if page == pages.page %} active" aria-current="page{% endif %}">
                {% if page != None %}
                    <a class="page-link" href="./?page={{ page }}">{{ page }}</a>
                {% endif %}
            </li>
        {% endfor %}


        <li class="page-item {% if not pages.has_next %} disabled {% endif %}">
            <a class="page-link" href="./?page={{ pages.next_num }}" aria-label="Next">
                <span aria-hidden="true">&rsaquo;</span>
            </a>
        </li>

        <li class="page-item {% if not pages.has_next %} disabled {% endif %}">
            <a class="page-link" href="./?page={{ pages.pages }}" aria-label="Last">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>

    </ul>
</nav>

{% endblock %}